<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tamarin Prover Manual</title>
    <link rel="stylesheet" type="text/css" href="book.css">
    <script src="book.js"></script>
    <link rel="stylesheet" href="styles/github.css">
<!--    <script src="highlight.pack.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
-->
    </head>
<body class="tamarindoc">
    <!--[if lte IE 8]>
    <div class="warning">
        This old browser is unsupported and will most likely display funky
        things.
    </div>
    <![endif]-->
  <div id="nav">
    <button id="toggle-nav">
    <span class="sr-only">Toggle navigation</span>
    <span class="bar"></span>
    <span class="bar"></span>
    <span class="bar"></span>
    </button>
  </div>
  <div id='toc' class='mobile-hidden'>
  <ul class='chapter'>
<!-- <li><a href='000_prelims.html'                    ><b>0. </b>Preliminaries</a></li> -->
<li><a href='001_introduction.html'               ><b>1. </b> Introduction</a></li>
<li><a href='002_installation.html'               ><b>2. </b> Installation</a></li>
<li><a href='003_example.html'                    ><b>3. </b> First Example</a></li>
<li><a href='004_cryptographic-messages.html'     ><b>4. </b> Cryptographic Messages</a></li>
<li><a href='005_protocol-specification.html'     ><b>5. </b> Protocol Specification</a></li>
<li><a href='006_property-specification.html'     ><b>6. </b> Property Specification</a></li>
<li><a href='007_precomputation.html'             ><b>7. </b> Precomputation</a></li>
<li><a href='008_modeling-issues.html'            ><b>8. </b> Modeling Issues</a></li>
<li><a href='009_advanced-features.html'          ><b>9. </b> Advanced Features</a></li>
<li><a href='010_case-studies.html'               ><b>10.</b> Case Studies</a></li>
<li><a href='011_toolchains.html'                 ><b>11.</b> Toolchains</a></li>
<li><a href='012_limitations.html'                ><b>12.</b> Limitations</a></li>
<li><a href='013_contact-and-further-reading.html'><b>13.</b> Contact Information and Further Reading</a></li>
<li><a href='014_syntax_description.html'         ><b>14.</b> Syntax Description</a></li>
  </ul>
  </div>
  <div id='page-wrapper'>
    <div id='page'>
<p class="halfbreak">
</p>
<h1 id="sec:installation"><a href="#sec:installation">Installation</a></h1>
<p>We explain below how to install Tamarin on different operating systems: <a href="#sec:linux">Linux</a>, <a href="#sec:macosx">Mac OS X</a>, and <a href="#sec:windows">Microsoft Windows</a>.</p>
<h2 id="sec:linux"><a href="#sec:linux">Linux</a></h2>
<p>To run Tamarin on Linux, a number of dependencies must be installed, namely GraphViz and Maude 2.7. You can install GraphViz using your standard package manager or directly from <a href="http://www.graphviz.org/">http://www.graphviz.org/</a>. You can also install Maude using your package manager. However, if your package manager installs Maude 2.6, then you must install version 2.7, <a href="http://maude.cs.illinois.edu/w/index.php?title=Maude_download_and_installation#Core_Maude_2.7">Core Maude 2.7</a>, directly from <a href="http://maude.cs.illinois.edu/">http://maude.cs.illinois.edu/</a>. In this case, you should ensure that your <code>PATH</code> includes the install path, so that calling <code>maude</code> starts version 2.7. Note that even though the Maude executable is movable, the <code>prelude.maude</code> file must be in the same folder that you start Maude from.</p>
<p>Once these dependencies have been installed, you can then either compile Tamarin from source, or download the binaries of the latest master version. Development versions require compilation from source.</p>
<h3 id="compiling-from-source"><a href="#compiling-from-source">Compiling from source</a></h3>
<p>To help compile Tamarin from source, we manage Haskell dependencies automatically using the tool <code>stack</code>. You must first install <code>stack</code>, following the instructions given at <a href="https://github.com/commercialhaskell/stack/blob/master/doc/install_and_upgrade.md">Stack's install page</a>.</p>
<p>After running <code>git clone</code> on the Tamarin repository, you have the current development version ready for compilation. If you would prefer to use the master version, just run <code>git checkout master</code>. In either case, you can then run <code>make default</code>, which will install an appropriate GHC (the Glasgow Haskell Compiler) for your system, including all dependencies, and the <code>tamarin-prover</code> executable will be copied to <code>~/.local/bin/tamarin-prover</code>. Note that this process will take between 30 and 60 minutes, as all dependencies (roughly 120) are compiled from scratch. If you later pull a newer version of Tamarin (or switch to/from the <code>master</code> branch), then only the tool itself needs to be recompiled, which takes a few minutes, at most.</p>
<p>Continue as described in Section <a href="#sec:running-tamarin">Running Tamarin</a> to run Tamarin for the first time.</p>
<h3 id="using-binaries"><a href="#using-binaries">Using binaries</a></h3>
<p>You can download the appropriate binaries for your system from <a href="https://github.com/tamarin-prover/bin-dists">https://github.com/tamarin-prover/bin-dists</a>.</p>
<p>Similar to installing from source, starting Tamarin without arguments will output its help message. We recommend opening the <code>Tutorial.spthy</code> example file in a text editor and to start exploring from there, or alternatively to continue reading this document.</p>
<p><strong>Notes:</strong></p>
<ul>
<li><p>Only the current master is available as binary, while the sources contain both the master and the current development state.</p></li>
<li><p>The Tamarin source archive <a href="https://github.com/tamarin-prover/tamarin-prover/archive/develop.zip">https://github.com/tamarin-prover/tamarin-prover/archive/develop.zip</a> contains numerous protocol examples including the <code>Tutorial.spthy</code> file, all of which you can find in the <code>examples/</code> directory.</p></li>
</ul>
<p>Continue as described in Section <a href="#sec:running-tamarin">Running Tamarin</a> to run Tamarin for the first time.</p>
<h2 id="sec:macosx"><a href="#sec:macosx">Mac OS X</a></h2>
<h3 id="sec:MacOSBinInstall"><a href="#sec:MacOSBinInstall">Automatic Installation of the Tamarin binary</a></h3>
<p>The fastest way to install Tamarin on Mac OS X is to use <a href="http://brew.sh/">Homebrew</a> <a href="https://caskroom.github.io/">Cask</a>.</p>
<p>If you already have this installed, it is as simple as running the following in your terminal:</p>
<ul>
<li><code>brew cask install tamarin-prover</code></li>
</ul>
<p>You can now run Tamarin from the command line by typing <code>tamarin-prover</code>. Continue as described in Section <a href="#sec:running-tamarin">Running Tamarin</a> to run Tamarin for the first time. (Warning: the current stable version of Tamarin v1.0.0 does not realise that Maude v2.7.1 is more than sufficient; it will currently give you a warning when you run <code>tamarin-prover test</code> but it is safe to ignore this.)</p>
<h4 id="installing-homebrew-cask"><a href="#installing-homebrew-cask">Installing Homebrew &amp; Cask</a></h4>
<p>If you don't have Homebrew and/or Cask installed:</p>
<ol style="list-style-type: decimal">
<li><p>Install <a href="http://brew.sh/">Homebrew</a>, by following the instructions on their website (this is a one-line copy paste install). Update everything with: <code>brew update</code>. Any issues, run <code>brew doctor</code> for more information.</p></li>
<li><p>Install Tamarin: <code>brew cask install tamarin-prover</code></p>
<ul>
<li>If for any reason this doesn't work, you might have to 'tap' (add) Homebrew <a href="https://caskroom.github.io/">Cask</a> manually. This is currently achieved by <code>brew tap caskroom/cask</code>, but might change. Check <a href="https://caskroom.github.io/">the website</a> for the latest instructions.</li>
<li>Tamarin's dependencies Maude and GraphViz are automatically installed and added to your path.</li>
</ul></li>
<li><p>You can now run Tamarin from the terminal by typing <code>tamarin-prover</code></p></li>
</ol>
<p>That's it! Homebrew will automatically update Tamarin when new versions are released, if you <code>brew update</code> on a semi-regular basis.</p>
<p>For reference, Homebrew will place a symlink to the binary in <code>/usr/local/bin/tamarin-prover</code>, but you should never need to touch this. To uninstall, just <code>brew cask remove tamarin-prover</code>, and if you want, also remove <code>maude</code> and <code>graphviz</code>, two dependencies which are automatically installed with Tamarin.</p>
<h3 id="manual-installation-of-the-tamarin-binary"><a href="#manual-installation-of-the-tamarin-binary">Manual installation of the Tamarin binary</a></h3>
<p>Alternatively, it is possible to install Tamarin, Maude and GraphViz manually:</p>
<ol style="list-style-type: decimal">
<li><p>Download and install Core Maude 2.7 from <a href="http://maude.cs.illinois.edu/w/index.php?title=Maude_download_and_installation">http://maude.cs.illinois.edu/w/index.php?title=Maude_download_and_installation</a>.</p>
<p>Make sure that the Maude binary is called <code>maude</code> (as opposed to, e.g., <code>maude.darwin64</code>) and that <code>prelude.maude</code> is in your executables path, for instance by placing it in the same folder as the maude binary.</p></li>
<li><p>Download and install GraphViz from <a href="http://www.graphviz.org/Download.php">http://www.graphviz.org/Download.php</a>.</p></li>
<li><p>Download the latest Tamarin binary <code>tamarin-prover-1.x.y-macosx</code> from <a href="https://github.com/tamarin-prover/bin-dists/blob/master/tamarin-prover-1.0.0/tamarin-prover-1.0.0-macosx?raw=true">https://github.com/tamarin-prover/bin-dists/blob/master/tamarin-prover-1.0.0/tamarin-prover-1.0.0-macosx?raw=true</a>.</p></li>
<li><p>Install Tamarin by renaming <code>tamarin-prover-1.x.y-macosx</code> to<code>tamarin-prover</code> and moving it to a folder in your executables path. Make the binary executable with the following command.</p>
<pre><code>  chmod u+x tamarin-prover</code></pre></li>
</ol>
<p>Continue as described in Section <a href="#sec:running-tamarin">Running Tamarin</a> to run Tamarin for the first time.</p>
<p><strong>Notes:</strong></p>
<ul>
<li><p>Only the current master is available as binary, while the sources contain both the master and the current development state.</p></li>
<li><p>The Tamarin source archive <a href="https://github.com/tamarin-prover/tamarin-prover/archive/develop.zip">https://github.com/tamarin-prover/tamarin-prover/archive/develop.zip</a> contains numerous protocol examples including the <code>Tutorial.spthy</code> file you can start with, or continue reading this document.</p></li>
</ul>
<h3 id="installing-tamarin-from-sources"><a href="#installing-tamarin-from-sources">Installing Tamarin from sources</a></h3>
<ol style="list-style-type: decimal">
<li>To compile Tamarin, you need the Haskell tool <a href="https://github.com/commercialhaskell/stack/blob/master/doc/install_and_upgrade.md#manual-download-1">stack</a>. To run Tamarin you need <a href="http://maude.cs.illinois.edu/w/index.php?title=Maude_download_and_installation">Maude 2.7</a> and <a href="http://www.graphviz.org/Download.php">GraphViz</a>. You can download these tools from their respective sites. Alternatively, you can use either the <a href="https://www.macports.org">MacPorts</a> or <a href="http://brew.sh">Homebrew</a> package managers.</li>
</ol>
<ul>
<li><p>For MacPorts:</p>
<pre><code>  sudo port install maude graphviz</code></pre></li>
</ul>
<p>The Haskell tool <code>stack</code> is not in the MacPorts repository and must be installed by following the instructions at <a href="https://github.com/commercialhaskell/stack/blob/master/doc/install_and_upgrade.md">https://github.com/commercialhaskell/stack/blob/master/doc/install_and_upgrade.md</a>.</p>
<ul>
<li><p>For Homebrew:</p>
<pre><code>  brew install homebrew/science/maude graphviz haskell-stack</code></pre></li>
</ul>
<ol start="2" style="list-style-type: decimal">
<li><p>Clone the <code>tamarin-prover</code> repository by typing</p>
<pre><code>  git clone https://github.com/tamarin-prover/tamarin-prover.git</code></pre>
<p>or download the source files from <a href="https://github.com/tamarin-prover/tamarin-prover/archive/develop.zip">https://github.com/tamarin-prover/tamarin-prover/archive/develop.zip</a>.</p></li>
<li><p>Build Tamarin by changing into the <code>tamarin-prover</code> directory and typing</p>
<pre><code>  make default</code></pre></li>
</ol>
<p>The installation process informs you where the <code>tamarin-prover</code> executable will be installed, for example, in <code>~/.local/bin/</code>. Move the binary to a directory in your executables path or add <code>~/.local/bin/</code> to your path.</p>
<p>Continue as described in Section <a href="#sec:running-tamarin">Running Tamarin</a> to run Tamarin for the first time.</p>
<h2 id="sec:windows"><a href="#sec:windows">Windows</a></h2>
<p>Windows is not currently supported. To the best of our knowledge, there is not a current GraphViz version available for Windows and there is no Maude binary for Windows 10. Therefore only the command-line parts of the tool are functional for Windows systems prior to Windows 10.</p>
<h2 id="sec:running-tamarin"><a href="#sec:running-tamarin">Running Tamarin</a></h2>
<p>Starting <code>tamarin-prover</code> without arguments will output its help message, including the paths to the installed example protocol models and all case studies from published papers. We recommend opening the <a href="https://raw.githubusercontent.com/tamarin-prover/tamarin-prover/develop/examples/Tutorial.spthy">Tutorial.spthy</a> example file in a text editor and start exploring from there, or to continue reading this document. Note that the <code>Tutorial.spthy</code> file can be found in the <code>examples</code> directory of the Tamarin source.</p>
<p>Running <code>tamarin-prover test</code> will check the Maude and GraphViz versions and run some tests Its output should be:</p>
<pre><code>$ tamarin-prover test
Self-testing the tamarin-prover installation.

*** Testing the availability of the required tools ***
maude tool: &#39;maude&#39;
 checking version: 2.7. OK.
 checking installation: OK.

GraphViz tool: &#39;dot&#39;
 checking version: dot - graphviz version 2.39.20150613.2112 
                   (20150613.2112). OK.

*** Testing the unification infrastructure ***
Cases: 55  Tried: 55  Errors: 0  Failures: 0

*** TEST SUMMARY ***
All tests successful.
The tamarin-prover should work as intended.

           :-) happy proving (-:</code></pre>
<p>You are now ready to use Tamarin to verify cryptographic protocols.</p>
<h2 id="running-tamarin-on-a-remote-machine"><a href="#running-tamarin-on-a-remote-machine">Running Tamarin on a remote machine</a></h2>
<p>If you have access to a faster desktop or server, but prefer using Tamarin on your laptop, you can do that. The cpu/memory intensive reasoning part of the tool will then run on the faster machine, while you just run the GUI locally, i.e., the web browser of your choice. To do this, you forward your port 3001 to the port 3001 of your server with the following command, replacing <code>SERVERNAME</code> appropriately.</p>
<pre><code>ssh -L 3001:localhost:3001 SERVERNAME</code></pre>
<p>If you do this, we recommend that you run your Tamarin instance on the server in a <a href="https://www.gnu.org/software/screen/manual/screen.html">screen</a> environment, which will continue running even if the network drops your connection as you can later reconnect to it. Otherwise, any network failure may require you to restart Tamarin and start over on the proof.</p>
<div class="references">

</div>
    </div>
  </div>
</body>
</html>
