<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Tamarin Prover Manual</title>
  <link rel="stylesheet" type="text/css" href="book.css">
  <script src="book.js"></script>
  <link rel="stylesheet" href="styles/github.css">
  <!--    <script src="highlight.pack.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
-->
  </head>

<body class="tamarindoc">
  <!--[if lte IE 8]>
    <div class="warning">
        This old browser is unsupported and will most likely display funky
        things.
    </div>
    <![endif]-->
  <div id="nav">
    <button id="toggle-nav">
      <span class="sr-only">Toggle navigation</span>
      <span class="bar"></span>
      <span class="bar"></span>
      <span class="bar"></span>
    </button>
  </div>
  <div id='toc' class='mobile-hidden'>
    <ul class='chapter'>
      <!-- <li><a href='000_prelims.html'><b>0. </b>Preliminaries</a></li> -->
      <li><a href='001_introduction.html'><b>1. </b> Introduction</a></li>
      <li><a href='002_installation.html'><b>2. </b> Installation</a></li>
      <li><a href='003_example.html'><b>3. </b> First Example</a></li>
      <li><a href='004_cryptographic-messages.html'><b>4. </b> Cryptographic Messages</a></li>
      <li><a href='005_protocol-specification-rules.html'><b>5. </b> Protocol Specification using Rules</a></li>
      <li><a href='006_protocol-specification-processes.html'><b>6. </b> Protocol Specification using Processes</a></li>
      <li><a href='007_property-specification.html'><b>7. </b> Property Specification</a></li>
      <li><a href='008_accountability.html'><b>8. </b> Accountability</a></li>
      <li><a href='009_precomputation.html'><b>9. </b> Precomputation</a></li>
      <li><a href='010_modeling-issues.html'><b>10. </b> Modeling Issues</a></li>
      <li><a href='011_advanced-features.html'><b>11. </b> Advanced Features</a></li>
      <li><a href='012_case-studies.html'><b>12.</b> Case Studies</a></li>
      <li><a href='013_toolchains.html'><b>13.</b> Toolchains</a></li>
      <li><a href='014_limitations.html'><b>14.</b> Limitations</a></li>
      <li><a href='015_contact-and-further-reading.html'><b>15.</b> Contact Information and Further Reading</a></li>
      <li><a href='016_syntax_description.html'><b>16.</b> Syntax Description</a></li>
    </ul>
  </div>
  <div id='page-wrapper'>
    <div id='page'>
      <p class="halfbreak">
      </p>
      <h1 id="sec:tool-chains">Toolchains</h1>
      <p>There exist several tools that accept Tamarin files as input
      for further processing.</p>
      <h2 id="tree-sitter-grammar">Tree-sitter grammar</h2>
      <p>There exists a Tree-sitter grammar for Spthy files with support
      for SAPiC+: <a
      href="https://github.com/tamarin-prover/tamarin-prover/tree-sitter">tree-sitter-spthy</a></p>
      <p>The grammar allows generating parsers that can be used in
      third-party tools without dependencies to the Tamarin
      implementation.</p>
      <h2 id="alicebob-input">Alice&amp;Bob input</h2>
      <p>There exists a tool that translates
      Alice&amp;Bob-specifications to Tamarin: <a
      href="http://www.infsec.ethz.ch/research/software/anb.html"
      class="uri">http://www.infsec.ethz.ch/research/software/anb.html</a></p>
      <!-- FIX: To be written by Sasa & Ralf -->
      <h2 id="tamarin-troop">Tamarin-Troop</h2>
      <p>If you want to export a SAPIC file to multiple provers, and
      find out which prover works fastest for a lemma in the file, the
      python script <em>tamarin-troop</em> can help you.</p>
      <p>First, <em>tamarin-troop</em> will export your SAPIC file and
      lemma to the provers you choose. Currently, it supports ProVerif,
      Deepsec, GSVerif, and Tamarin. Then, it will run the provers
      concurrently, report the result and the time the first prover took
      to finish, and abort the calls to the other provers.</p>
      <p>To get <em>tamarin-troop</em> copy
      <code>etc/tamarin-troop.py</code> into your
      <code>$PATH</code>.</p>
      <h2 id="how-to-use-tamarin-troop">How to use Tamarin-Troop</h2>
      <p><em>Tamarin-troop</em> requires a python 3 installation to
      work. Moreover, it expects the provers to be in your path under
      their usual names (i.e <code>tamarin-prover</code> for tamarin,
      <code>proverif</code> for ProVerif etc.)</p>
      <p>We now go over its most important command-line parameters and
      their semantics. Invoke</p>
      <pre><code>    ./tamarin-troop.py --help</code></pre>
      <p>for more information.</p>
      <ul>
      <li><p><strong>-file path_to_your_sapic_file</strong> is the only
      required argument. This is the path to your SAPIC file.</p></li>
      <li><p><strong>-t arg1 arg2 …</strong> tells
      <em>tamarin-troop</em> to concurrently call the Tamarin-prover on
      the SAPIC file. For each argument, <em>tamarin-troop</em> will
      call Tamarin with the argument. The double-dashes are added by
      <em>tamarin-troop</em>. There is no need to type them out. You can
      give this parameter multiple times. If you do,
      <em>tamarin-troop</em> makes multiple calls to Tamarin using the
      cross-product of the given arguments.</p>
      <p>For instance,</p>
      <pre><code>./tamarin-troop.py -file nsl-no_as-untagged.spthy -t help auto-sources</code></pre>
      <p>results in the following calls to Tamarin:</p>
      <pre><code>Executing &#39;tamarin-prover nsl-no_as-untagged.spthy --prove --help&#39;
Executing &#39;tamarin-prover nsl-no_as-untagged.spthy --prove --auto-sources&#39;</code></pre>
      <p>The call</p>
      <pre><code>./tamarin-troop.py -file nsl-no_as-untagged.spthy -t help auto-sources -t help auto-sources</code></pre>
      <p>leads to the following calls:</p>
      <pre><code>Executing &#39;tamarin-prover nsl-no_as-untagged.spthy --prove --help --help&#39;
Executing &#39;tamarin-prover nsl-no_as-untagged.spthy --prove --help --auto-sources&#39;
Executing &#39;tamarin-prover nsl-no_as-untagged.spthy --prove --auto-sources --help&#39;
Executing &#39;tamarin-prover nsl-no_as-untagged.spthy --prove --auto-sources --auto-sources&#39;</code></pre></li>
      <li><p><strong>-p arg1 arg2 …</strong> tells
      <em>tamarin-troop</em> to concurrently call ProVerif on the
      translated SAPIC file. <em>Tamarin-troop</em> stores the
      translated SAPIC file in the directory it resides in. The
      generated file is called <strong>input_file_proverif.pv</strong>;
      where <strong>input_file</strong> is the original SAPIC file. The
      semantics are the same as <strong>-t</strong>.</p></li>
      <li><p><strong>-d arg1 arg2 …</strong> tells
      <em>tamarin-troop</em> to concurrently call Deepsec on the
      translated SAPIC file. Again, an intermediate file is generated by
      <em>tamarin-troop</em>. The same naming convention applies. The
      semantics are the same as <strong>-t</strong> and
      <strong>-p</strong>.</p></li>
      <li><p><strong>-l lemma1 lemma2 …</strong> tells
      <em>tamarin-troop</em> to export the lemmas <strong>lemma1 lemma2
      …</strong>. For calls to Tamarin this is done by adding the
      <strong>–prove=lemmaX</strong> flag. For each lemma
      <em>tamarin-troop</em> will make one call to Tamarin. For ProVerif
      and Deepsec, <em>tamarin-troop</em> uses the
      <strong>–lemma=lemmaX</strong> flag to only export a single lemma
      to the ProVerif/Deepsec file.</p>
      <p>If the user gives no lemma, <em>tamarin-troop</em> exports
      <strong>ALL</strong> lemmas to ProVerif/Deepsec, and tries to
      prove all lemmas with Tamarin. However, <em>tamarin-troop</em>
      currently assumes that there is only one lemma/query in a file if
      no lemmas are given. Thus, not specifying any lemmas only makes
      sense if the original SAPIC file contains exactly one
      lemma.</p></li>
      <li><p><strong>-H {s,S,c,C,i,I} …</strong> tells
      <em>tamarin-troop</em> to call Tamarin with the given heuristics.
      If other arguments for Tamarin are supplied via the
      <strong>-t</strong> parameters, the before mentioned cross-product
      semantics apply.</p></li>
      <li><p><strong>-D Flag1 Flag2 …</strong> tells
      <em>tamarin-troop</em> to use the flags <strong>Flag1
      Flag2…</strong> when calling Tamarin on the SAPIC file, and when
      generating the ProVerif/ Deepsec files.</p></li>
      <li><p><strong>–diff</strong> tells <em>tamarin-troop</em> to use
      Tamarins <strong>–diff</strong> flag for calls to Tamarin and
      ProVerif/ Deepsec file generation.</p></li>
      <li><p><strong>–gs</strong> tells <em>tamarin-troop</em> to use
      the GSVerif pre-processor on a ProVerif file before calling
      ProVerif.</p></li>
      <li><p><strong>-to</strong> sets a timeout for the calls
      <em>tamarin-troop</em> starts. The default is 5 seconds.</p></li>
      </ul>
    </div>
  </div>
</body>

</html>
